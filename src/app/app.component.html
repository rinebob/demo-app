

<mat-sidenav-container>
    <mat-sidenav #sidenav mode="side"
                opened="true"
                (openedChange)="toggleShowSidenavButton($event)"
    >

        <div class="top-sidenav-container">

            <h1 class="heading">kanban</h1>
            <!-- <mat-icon svgIcon="logo-light" color="primary"></mat-icon>
            <mat-icon svgIcon="icon-light-theme" color="primary"></mat-icon> -->
        
            <p class="all-boards">all boards ({{numBoards}})</p>

            <mat-nav-list>
                
                <!-- (click)="sidenav.close()" -->
                <a *ngFor="let board of boards$ | async"
                mat-list-item 
                [routerLink]="['/board', board.id ?? 0]"
                routerLinkActive="link-active"
                >
                    {{board.displayName}}
                </a>
                
            </mat-nav-list>

            <button mat-flat-button
                    class="create-new-board-button"
                    (click)="createNewBoard()"
            >
                <mat-icon>add</mat-icon>
                Create New Board
            </button>

        </div>

        <div class="bottom-buttons-container">
            <div class="dark-mode-switch-container">
                <mat-icon class="material-symbols-outlined">light_mode</mat-icon>
                <mat-slide-toggle [color]="darkModeToggleButtonColor"
                                  (change)="toggleDarkMode($event)"
                                
                ></mat-slide-toggle>
                <mat-icon class="material-symbols-outlined">dark_mode</mat-icon>

            </div>

            <button class="hide-sidebar-button"
                    (click)="sidenav.close()"
            >
                <mat-icon>visibility_off</mat-icon>
                Hide Sidebar
            </button>
        </div>
        
    </mat-sidenav>
    
    <mat-sidenav-content>
        
        <nav class="nav-bar">
            <button mat-button class="nav-button" (click)="sidenav.open()">Open side menu</button>
            <button mat-button class="nav-button" [routerLink]="'design-system'">Design system</button>
            
            <button mat-button
                    class="nav-button"
                    (click)="openCreateTaskDialog()"
            >
                <mat-icon>add</mat-icon>
                Add New Task
            </button>
        </nav>

        <router-outlet></router-outlet>

        <button *ngIf="shouldShowOpenSidenavButton"
                class="show-sidenav-button"
                (click)="sidenav.open()"
        >
            <mat-icon>visibility</mat-icon>
        </button>

    </mat-sidenav-content>

</mat-sidenav-container>

