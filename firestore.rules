rules_version = '2';
service cloud.firestore {
    match /databases/{database}/documents {

        function isAuthenticated() {
            return request.auth.uid != null;
        }

        function isOwnedByUser() {
            return request.resource.data['ownerUid'] == request.auth.uid;
        }

        function canAccess() {
            return isAuthenticated() && isOwnedByUser();
        }


        match /boards/{boardId} {
            allow read: if isAuthenticated();
            allow write: if isAuthenticated();
            

            match /tasks/{taskId} {
                allow read: if isAuthenticated();
                allow write: if isAuthenticated();
            }
        }
    }
}   